<!--template/toast/toast.wxss-->
<import src="../loading.wxml"/>
<template name="picker_view">
    <view class="picker-view {{isAnimated?'show':'hide'}}  {{(class)?'animated_0_5 slideInUp':'animated_0_3 slideOutDown'}}">
        <block wx:if="{{title}}">
            <view class="picker-view-title">
                <text>{{title}}</text>
            </view>
        </block>
        <view class="picker-view-content">
            <scroll-view class="height-all scroll-view" scroll-y="false">
                <block wx:if="{{tableContent}}">
                    <template is="{{tableContent}}" data="{{data,type}}"></template>
                </block>
            </scroll-view>
        </view>
        <block wx:if="{{footer&&footer.status}}">
            <button class="picker-view-footer azm-btn" plain data-type="confirm" data-active="{{type}}"
                    catchtap="azm_pickerView_fail">
                {{footer.cancelText}}
            </button>
        </block>
    </view>
    <template is="mask" data="{{isMask,type}}"></template>
</template>


<!--支付方式-->
<template name="picker-view-pickerViewPayment">
    <view class="picker-view-payment">
        <view class="picker-view-payment-member picker-view-payment-item">
            <view class="flexBox">
                <view class="flexBox-item fb-8">
                    <text class="iconfont icon-huiyuanqia azm-icon"></text>
                    <text decode>&nbsp;&nbsp;&nbsp;会员卡</text>
                </view>
                <view class="flexBox-item fb-4 text-right">
                    <!--<radio color="#f74b7b" name="payment" value="member" checked="{{'member'=== payment}}"/>-->
                    <block wx:if="{{data.isMemberCardDto}}">
                        <block wx:if="{{data.memberCardDto.status == 1}}">
                            <button plain size="mini" data-type="confirm" data-active="{{type}}"
                                    data-select="recharge"
                                    class="azm-btn" catchtap="azm_pickerView_success">
                                已锁
                            </button>
                        </block>
                        <block wx:elif="{{data.memberCardDto.availableBalance>0 && data.actualPrice<data.memberCardDto.availableBalance}}">
                            <button plain size="mini" type="primary" data-type="confirm"
                                    data-active="{{type}}"
                                    data-select="payment"
                                    class="azm-btn"
                                    catchtap="azm_pickerView_success">
                                支付
                            </button>
                        </block>
                        <block wx:elif="{{data.isMemberCardDto}}">
                            <button plain size="mini" data-type="confirm" data-active="{{type}}"
                                    data-select="recharge"
                                    class="azm-btn" catchtap="azm_pickerView_success">
                                充值
                            </button>
                        </block>
                    </block>
                    <block wx:else>
                        <button plain size="mini" type="primary" data-type="confirm" data-active="{{type}}"
                                data-select="apply"
                                class="azm-btn"
                                catchtap="azm_pickerView_success">
                            申请
                        </button>
                    </block>
                </view>
            </view>
            <view class="payment-member-content flexBox">
                <block wx:if="{{!data.isMemberCardDto}}">
                    <view class="flexBox-item fb-9">
                        <text>请先申请会员卡</text>
                    </view>
                    <view class="flexBox-item fb-3">
                    </view>
                </block>
                <block wx:else>
                    <block wx:if="{{data.memberCardDto.availableBalance>0}}">
                        <view class="flexBox-item fb-10">
                            <text>余额：{{filterMoney.RMB(data.memberCardDto.availableBalance)}}</text>
                            <block wx:if="{{data.memberCardDto.status == 1}}">
                                <text decode>&nbsp;&nbsp;会员卡已锁，请联系商家客服</text>
                            </block>
                            <block wx:elif="{{data.actualPrice>data.memberCardDto.availableBalance}}">
                                <text decode>&nbsp;&nbsp;余额不足，请到收银台充值</text>
                            </block>
                        </view>
                        <view class="flexBox-item fb-2">
                        </view>
                    </block>
                    <block wx:else>
                        <view class="flexBox-item fb-9">
                            <text>余额不足，请到收银台充值</text>
                        </view>
                        <view class="flexBox-item fb-3">
                        </view>
                    </block>
                </block>
            </view>
        </view>
        <view class="picker-view-payment-weChat picker-view-payment-item flexBox">
            <view class="flexBox-item fb-8">
                <text class="iconfont icon-weixinzhifu azm-icon"></text>
                <text decode>&nbsp;&nbsp;&nbsp;微信支付</text>
            </view>
            <view class="flexBox-item fb-4 text-right">
                <button plain size="mini" type="primary" data-type="confirm" data-active="{{type}}" class="azm-btn"
                        data-select="weChat"
                        catchtap="azm_pickerView_success">
                    支付
                </button>
            </view>
        </view>
    </view>
</template>

<!--过滤器-->
<wxs src="../../utils/filter/filter_money.wxs" module="filterMoney"/>
