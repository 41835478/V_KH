<view class="new-class orderDetail">
    <form bindsubmit="submitOrder" bindreset="formReset" report-submit>
        <!--状态-->
        <block wx:if="{{3 == orderType}}">
            <view class="azm-section azm-progressBar">
                <view class="azm-top flexBox">
                    <view class="flexBox-item fb-4">
                        <text decode="true" class="azm-starts">下拉刷新订单</text>
                        <!--<text class="azm-icon text-red iconfont-2 {{orderStatus.iconName}}"></text>-->
                        <!--<text decode="true" class="text-red azm-starts">&nbsp;&nbsp;{{orderStatus.name}}</text>-->
                    </view>
                    <view class="flexBox-item fb-8 orderTime text-right">
                        <text decode="true">下单时间：{{consumerData.createTime}}</text>
                    </view>
                </view>
                <!--<view class="row flexBox azm-progressBar-center">-->
                <!--<view class="active pa azm-round-first">-->
                <!--<view class="row">-->
                <!--<text class="azm-round iconfont icon-point"></text>-->
                <!--</view>-->
                <!--<view class="row azm-text">-->
                <!--<text>订单确认</text>-->
                <!--</view>-->
                <!--</view>-->
                <!--<block wx:for="{{progressBar}}">-->
                <!--<view class="flexBox-item fb-{{12/progressBar.length}} pr {{item.status?'active':''}}">-->
                <!--<view class="azm-line"></view>-->
                <!--<view class="azm-round-row pa">-->
                <!--<view class="row">-->
                <!--<text class="azm-round iconfont icon-point"></text>-->
                <!--</view>-->
                <!--<view class="row azm-text">-->
                <!--<text>{{item.name}}</text>-->
                <!--</view>-->
                <!--</view>-->
                <!--</view>-->
                <!--</block>-->
                <!--</view>-->
                <view class="azm-progressBar-payment">
                    <view class="p text-center azm-text" style="font-weight: bold;color: #000;font-size: 36rpx">
                        <!--<block wx:if="{{1 == isOrderType && 8 == status}}">-->
                        <!--<text>支付超时，</text>-->
                        <!--</block>-->
                        <text>{{filterUtil.OrderStatus(consumerData).str}}</text>
                        <!--<block wx:if="{{3 == isOrderType}}">-->
                        <!--<block wx:if="{{4 == status || 3 == status}}">-->
                        <!--<block wx:if="{{1 == consumerData.orderStatus}}">-->
                        <!--<text>{{statusStr[5].str}}</text>-->
                        <!--</block>-->
                        <!--<block wx:elif="{{2 == consumerData.orderStatus}}">-->
                        <!--<text>{{statusStr[12].str}}</text>-->
                        <!--</block>-->
                        <!--<block wx:elif="{{3 == consumerData.orderStatus}}">-->
                        <!--<text>{{statusStr[11].str}}</text>-->
                        <!--</block>-->
                        <!--<block wx:elif="{{0 == consumerData.orderStatus}}">-->
                        <!--<text>已开单</text>-->
                        <!--</block>-->
                        <!--</block>-->
                        <!--<block wx:elif="{{8 == status}}">-->
                        <!--<text>{{statusStr[status].str}}</text>-->
                        <!--</block>-->
                        <!--<block wx:else>-->
                        <!--<text>订单已完成</text>-->
                        <!--</block>-->
                        <!--</block>-->
                        <!--<block wx:else>-->
                        <!--<text>{{statusStr[status].str}}</text>-->
                        <!--</block>-->
                    </view>
                    <block wx:if="{{3 == status}}">
                        <block wx:if="{{3 != isOrderType}}">
                            <view class="p text-center azm-text">
                                <text class="iconfont-2 icon-timefill azm-icon"></text>
                                <text decode>&nbsp;&nbsp;剩余支付时间：</text>
                                <text class="azm-icon-time">{{azm_paymentTime.countdownTime}}</text>
                            </view>
                        </block>
                    </block>
                    <block wx:if="{{5 == status}}">
                        <block wx:if="{{3 != isOrderType}}">
                            <view class="p text-center azm-text">
                                <text class="iconfont-2 icon-timefill azm-icon"></text>
                                <text decode>&nbsp;&nbsp;接拒单超时时间：</text>
                                <text class="azm-icon-time">{{azm_ordersTime.countdownTime}}</text>
                            </view>
                        </block>
                    </block>
                </view>
            </view>
        </block>
        <block wx:else>
            <view class="azm-topStatus weui-cells">
                <view class="weui-cell azm-cell azm-cell-border_0px azm-topStatus-start">
                    <view class="weui-cell__bd text-center bold">
                        <text decode>{{filterUtil.OrderStatus(consumerData).str}}&nbsp;&nbsp;</text>
                        <text class="iconfont-2 icon-xiangyou1 azm-icon"></text>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </view>
                <block wx:if="{{3 != status}}">
                    <block wx:if="{{2 == orderType}}">
                        <view class="weui-cell azm-cell azm-cell-border_0px  azm-topStatus-text">
                            <view class="weui-cell__bd text-center bold">
                                <text>取餐号：{{consumerData.mealNumber}}</text>
                            </view>
                            <view class="weui-cell_primary">

                            </view>
                            <view class="weui-cell__ft">

                            </view>
                        </view>
                        <block wx:if="{{11 == status}}">
                            <view class="weui-cell azm-cell azm-cell-border_0px  azm-topStatus-text-2">
                                <view class="weui-cell__bd text-center">
                                    <text>请凭此取餐号取餐</text>
                                </view>
                                <view class="weui-cell_primary">

                                </view>
                                <view class="weui-cell__ft">

                                </view>
                            </view>
                        </block>
                    </block>
                </block>
                <block wx:if="{{3 == status}}">
                    <view class="weui-cell azm-cell azm-cell-border_0px  azm-topStatus-time">
                        <view class="weui-cell__bd text-center bold text-red">
                            <text class="iconfont-2 icon-time azm-icon"></text>
                            <text decode>&nbsp;&nbsp;剩余支付时间：</text>
                            <text class="azm-icon-time">{{azm_paymentTime.countdownTime}}</text>
                        </view>
                        <view class="weui-cell_primary">

                        </view>
                        <view class="weui-cell__ft">

                        </view>
                    </view>
                </block>
                <block wx:elif="{{5 == status && consumerData.refusalLongTime}}">
                    <view class="weui-cell azm-cell azm-cell-border_0px  azm-topStatus-time">
                        <view class="weui-cell__bd text-center bold text-red">
                            <text class="iconfont-2 icon-time azm-icon"></text>
                            <text decode>&nbsp;&nbsp;接拒单超时时间：</text>
                            <text class="azm-icon-time">{{azm_ordersTime.countdownTime}}</text>
                        </view>
                        <view class="weui-cell_primary">

                        </view>
                        <view class="weui-cell__ft">

                        </view>
                    </view>
                </block>
            </view>
        </block>
        <!--订单列表-->
        <block wx:if="{{3 == orderType}}">
            <view class="azm-section azm-order weui-cells">
                <navigator open-type="navigate" class="azm-title"
                           url="/pages/shop/home/home?resId={{resId}}">
                    <view class="flexBox">
                        <view class="flexBox-item fb-2">
                            <block wx:if="{{consumerData.resLogo}}">
                                <image lazy-load class="azm-image" src="{{imageServer+consumerData.resLogo}}"></image>
                            </block>
                            <block wx:else>
                                <image lazy-load class="azm-image" src="{{imageServer+consumerData.resLogo}}"></image>
                            </block>
                        </view>
                        <view class="flexBox-item fb-8">
                            <text>{{consumerData.resName}}</text>
                        </view>
                        <view class="flexBox-item fb-2">
                            <text class="azm-text iconfont-2 icon-right"></text>
                        </view>
                    </view>
                </navigator>
                <view class="azm-orderList">
                    <block wx:for="{{consumerData.orderJson}}" wx:key="*this">
                        <view class="azm-orderList-item">
                            <view class="azm-orderList-title flexBox">
                                <view class="azm-left flexBox-item fb-4 text-overflow">
                                    <block wx:if="{{item.name}}">
                                        <text class="text-red">{{item.name}}</text>
                                    </block>
                                    <block wx:else>
                                        <text class="text-red">服务员</text>
                                    </block>
                                </view>
                                <view class="azm-right flexBox-item fb-3 text-right text-overflow">
                                    <block wx:if="{{isOrderType === 3}}">
                                        <block wx:if="{{item.orderStatus == 1}}">
                                            <text>待接单</text>
                                        </block>
                                        <block wx:elif="{{item.orderStatus == 2}}">
                                            <text>已拒单</text>
                                        </block>
                                        <block wx:elif="{{item.orderStatus == 3}}">
                                            <text>已接单</text>
                                        </block>
                                    </block>
                                </view>
                                <view class="azm-right flexBox-item fb-5 text-right text-overflow">
                                    <text>{{item.orderCreateTime}}</text>
                                </view>
                            </view>
                            <view class="azm-orderList-box">
                                <block wx:for="{{item.orderFoodList}}" wx:key="*this" wx:for-item="val">
                                    <view class="azm-orderList-li flexBox">
                                        <view class="azm-left flexBox-item fb-7">
                                            <view class="p text-overflow">
                                                <block wx:if="{{val.giveFlag == 1}}">
                                                    <text class="iconfont icon-zengdianji azm-icon azm-icon-blue"></text>
                                                </block>
                                                <block wx:if="{{val.status == 2}}">
                                                    <text class="iconfont icon-tui azm-icon azm-icon-pink"></text>
                                                </block>
                                                <text>{{val.name}}</text>
                                                <block wx:if="{{val.ruleName && val.ruleName != '默认' }}">
                                                    <text>({{val.ruleName}})</text>
                                                </block>
                                            </view>
                                            <!--<view class="p text-overflow">-->
                                            <!--<text>微辣</text>-->
                                            <!--</view>-->
                                        </view>
                                        <view class="azm-center flexBox-item fb-2 text-right">
                                            <text>x {{val.foodCount}}</text>
                                        </view>
                                        <view class="azm-right flexBox-item fb-3 text-right">
                                            <text>¥ {{val.price}}</text>
                                        </view>
                                    </view>
                                </block>
                            </view>
                        </view>
                    </block>
                </view>
                <view class="azm-other box">
                    <view class="azm-other-distribution flexBox azm-other-li">
                        <!--茶位费-->
                        <block wx:if="{{consumerData.serviceAmount}}">
                            <view class="flexBox-item fb-4">
                                <text>茶位费</text>
                            </view>
                            <view class="flexBox-item fb-4 text-right azm-center">
                                <text></text>
                            </view>
                            <view class="flexBox-item fb-4 text-right">
                                <text>¥{{consumerData.serviceAmount}}</text>
                            </view>
                        </block>
                        <!--配送费-->
                        <block wx:if="{{consumerData.distributionFee}}">
                            <view class="flexBox-item fb-4">
                                <text>配送费</text>
                            </view>
                            <view class="flexBox-item fb-4 text-right azm-center">
                                <text></text>
                            </view>
                            <view class="flexBox-item fb-4 text-right">
                                <text>¥{{consumerData.distributionFee}}</text>
                            </view>
                        </block>
                        <!--餐盒费-->
                        <block wx:if="{{consumerData.packingCharge}}">
                            <view class="flexBox-item fb-4">
                                <text>餐盒费</text>
                            </view>
                            <view class="flexBox-item fb-4 text-right azm-center">
                                <text></text>
                            </view>
                            <view class="flexBox-item fb-4 text-right">
                                <text>¥{{consumerData.packingCharge}}</text>
                            </view>
                        </block>
                    </view>
                </view>
                <view class="azm-order-price box">
                    <view class="azm-li flexBox">
                        <view class="flexBox-item fb-8">
                            <text>总价</text>
                        </view>
                        <view class="flexBox-item fb-4 text-right">
                            <text>¥{{consumerData.totalPrice}}</text>
                        </view>
                    </view>
                    <view class="azm-li flexBox">
                        <view class="flexBox-item fb-8">
                            <text>优惠折扣</text>
                        </view>
                        <view class="flexBox-item fb-4 text-right">
                            <text>-¥{{consumerData.discountPrice}}</text>
                        </view>
                    </view>
                </view>
                <view class="azm-order-footer text-right box">
                    <text>实付：</text>
                    <text class="text-red">{{filterMoney.RMB(consumerData.consumption)}}</text>
                </view>
            </view>
        </block>
        <block wx:else>
            <!--订单信息-->
            <view class="weui-cells azm-shopList weui-cells__border_1px">
                <navigator class="weui-cell weui-cell_access azm-cell azm-1px-b azm-title" open-type="navigate"
                           url="/pages/shop/home/home?resId={{resId}}">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item azm-resLogo">
                            <block wx:if="{{consumerData.resLogo}}">
                                <view class="azm-resLogo-img">
                                    <image lazy-load="true" src="{{imageServer + consumerData.resLogo}}"/>
                                </view>
                            </block>
                        </view>
                        <view class="flexBox-item fb-9 azm-content">
                            <text>{{consumerData.resName}}</text>
                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft weui-cell__ft_in-access">
                        <!--<text class="iconfont-2 icon-xiangxia2 azm-icon"></text>-->
                    </view>
                </navigator>
                <!--菜品列表-->
                <block wx:for="{{consumerData.orderJson}}" wx:key="*this">
                    <view class="azm-shopList-box">
                        <view class="weui-cell weui-cell_access azm-cell">
                            <view class="weui-cell__bd azm-cell-border_w_92 flexBox flexBox-start">
                                <view class="flexBox-item azm-resLogo">
                                    <block wx:if="{{item.resLogo}}">
                                        <view class="azm-resLogo-img">
                                            <image lazy-load="true" src="{{imageServer + item.resLogo}}"/>
                                        </view>
                                    </block>
                                </view>
                                <view class="flexBox-item fb-8 azm-content text-overflow">
                                    <block wx:if="{{item.name}}">
                                        <text>{{item.name}}</text>
                                    </block>
                                    <block wx:else>
                                        <text>服务员</text>
                                    </block>
                                </view>
                            </view>
                            <view class="weui-cell_primary">
                                <block wx:if="{{orderType === 3}}">
                                    <block wx:if="{{item.orderStatus == 1}}">
                                        <text decode>待接单&nbsp;&nbsp;</text>
                                    </block>
                                    <block wx:elif="{{item.orderStatus == 2}}">
                                        <text decode>已拒单&nbsp;&nbsp;</text>
                                    </block>
                                    <block wx:elif="{{item.orderStatus == 3}}">
                                        <text decode>已接单&nbsp;&nbsp;</text>
                                    </block>
                                </block>
                            </view>
                            <view class="weui-cell__ft" data-index="{{index}}" catchtap="bindOpenShopList">
                                <text decode>{{item.orderCreateTime}}&nbsp;&nbsp;</text>
                                <block wx:if="{{!item.selected}}">
                                    <text class="iconfont-2 icon-xiangshang2 azm-icon"></text>
                                </block>
                                <block wx:else>
                                    <text class="iconfont-2 icon-xiangxia2 azm-icon"></text>
                                </block>
                            </view>
                        </view>
                        <block wx:for="{{item.orderFoodList}}" wx:key="*this" wx:for-item="val"
                               wx:if="{{!item.selected}}">
                            <view class="weui-cell azm-cell azm-cell-border_w_92 azm-cell-placeholder-color">
                                <view class="weui-cell__bd flexBox flexBox-start">
                                    <view class="flexBox-item fb-10 azm-content">
                                        <block wx:if="{{val.giveFlag == 1}}">
                                            <text class="iconfont icon-zengdianji azm-icon azm-icon-blue"></text>
                                        </block>
                                        <block wx:if="{{val.status == 2}}">
                                            <text class="iconfont icon-tui azm-icon azm-icon-pink"></text>
                                        </block>
                                        <text>{{val.name}}</text>
                                        <block wx:if="{{val.ruleName && val.ruleName != '默认' }}">
                                            <text>({{val.ruleName}})</text>
                                        </block>
                                    </view>
                                    <view class="flexBox-item fb-2">
                                        <text>x {{val.foodCount}}</text>
                                    </view>
                                </view>
                                <view class="weui-cell_primary">

                                </view>
                                <view class="weui-cell__ft">
                                    <text>{{filterMoney.RMB(val.price)}}</text>
                                </view>
                            </view>
                        </block>
                    </view>
                </block>

                <!--茶位费用-->
                <block wx:if="{{consumerData.serviceAmount>0}}">
                    <view class="weui-cell azm-cell azm-cell-border_w_92 azm-cell-placeholder-color">
                        <view class="weui-cell__bd flexBox flexBox-start">
                            <view class="flexBox-item fb-10 azm-content">
                                <text>茶位费</text>
                            </view>
                            <view class="flexBox-item fb-2">

                            </view>
                        </view>
                        <view class="weui-cell_primary">

                        </view>
                        <view class="weui-cell__ft">
                            <text>{{filterMoney.RMB(consumerData.serviceAmount)}}</text>
                        </view>
                    </view>
                </block>
                <!--配送费用-->
                <block wx:if="{{consumerData.distributionFee>0}}">
                    <view class="weui-cell azm-cell azm-cell-border_w_92 azm-cell-placeholder-color">
                        <view class="weui-cell__bd flexBox flexBox-start">
                            <view class="flexBox-item fb-10 azm-content">
                                <text>配送费</text>
                            </view>
                            <view class="flexBox-item fb-2">

                            </view>
                        </view>
                        <view class="weui-cell_primary">

                        </view>
                        <view class="weui-cell__ft">
                            <text>{{filterMoney.RMB(consumerData.distributionFee)}}</text>
                        </view>
                    </view>
                </block>
                <!--餐盒费用-->
                <block wx:if="{{consumerData.packingCharge>0}}">
                    <view class="weui-cell azm-cell azm-cell-border_w_92 azm-cell-placeholder-color">
                        <view class="weui-cell__bd flexBox flexBox-start">
                            <view class="flexBox-item fb-10 azm-content">
                                <text>餐盒费</text>
                            </view>
                            <view class="flexBox-item fb-2">

                            </view>
                        </view>
                        <view class="weui-cell_primary">

                        </view>
                        <view class="weui-cell__ft">
                            <text>{{filterMoney.RMB(consumerData.packingCharge)}}</text>
                        </view>
                    </view>
                </block>

                <!--合计&优惠合计-->
                <!--合计-->
                <view class="weui-cell azm-cell azm-cell-border_w_92 azm-total azm-cell-placeholder-color">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item fb-10 azm-content">
                            <text>合计</text>
                        </view>
                        <view class="flexBox-item fb-2">

                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">
                        <text>{{filterMoney.RMB(consumerData.totalPrice)}}</text>
                    </view>
                </view>
                <!--优惠合计-->
                <block wx:if="{{consumerData.discountPrice>0}}">
                    <view class="weui-cell azm-cell azm-cell-border_w_92 azm-cell-border_0px azm-offersTotal azm-cell-placeholder-color">
                        <view class="weui-cell__bd flexBox flexBox-start">
                            <view class="flexBox-item fb-10 azm-content">
                                <text>优惠合计</text>
                            </view>
                            <view class="flexBox-item fb-2">

                            </view>
                        </view>
                        <view class="weui-cell_primary">

                        </view>
                        <view class="weui-cell__ft">
                            <text decode>-&nbsp;{{filterMoney.RMB(consumerData.discountPrice)}}</text>
                        </view>
                    </view>
                    <view class="weui-cell azm-cell azm-cell-border_w_92 azm-cell-border_0px azm-offersTotal-item azm-cell-placeholder-color">
                        <view class="weui-cell__bd flexBox flexBox-start">
                            <view class="flexBox-item fb-10 azm-content">
                                <text>会员优惠</text>
                            </view>
                            <view class="flexBox-item fb-2">

                            </view>
                        </view>
                        <view class="weui-cell_primary">

                        </view>
                        <view class="weui-cell__ft">
                            <text decode>-&nbsp;{{filterMoney.RMB(consumerData.discountPrice)}}</text>
                        </view>
                    </view>
                </block>

                <!--应付-->
                <view class="weui-cell azm-cell-border_w_92 azm-cell azm-handle">
                    <view class="weui-cell__bd flexBox flexBox-start">

                    </view>
                    <view class="weui-cell_primary">
                        <text>应付：{{filterMoney.RMB(consumerData.actualPrice)}}</text>
                    </view>
                </view>

                <!--申请会员卡-->
                <block wx:if="{{isMemberCardDto === false}}">
                    <view class="weui-cell azm-cell azm-member-btn azm-cell-l-0px">
                        <view class="weui-cell__bd flexBox flexBox-start">
                            <view class="flexBox-item azm-content azm-note__bd">
                                <text>会员可优惠：{{filterMoney.RMB(consumerData.discountPrice)}}</text>
                            </view>
                            <view class="flexBox-item fb-10">

                            </view>
                        </view>
                        <view class="weui-cell_primary">
                            <button plain="true" type="primary" size="mini" catchtap="utilPage_goMemberApplication">
                                申请会员卡
                            </button>
                        </view>
                    </view>
                </block>

                <!--备注-->
                <view class="weui-cell azm-cell azm-member-btn azm-cell-l-0px">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item azm-content azm-note__bd">
                            <text decode>备注：</text>
                        </view>
                        <view class="flexBox-item fb-9 azm-cell-placeholder-color">
                            <text>{{consumerData.note}}</text>
                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </view>
            </view>
        </block>

        <!--就餐信息-->
        <view class="azm-section azm-orderInfo weui-cells">
            <view class="weui-cell azm-cell azm-orderInfo-title azm-1px-b">
                <view class="weui-cell__bd flexBox flexBox-start">
                    <view class="flexBox-item">
                        <block wx:if="{{orderType == 1}}">
                            <text>配送信息</text>
                        </block>
                        <block wx:else>
                            <text>就餐信息</text>
                        </block>
                    </view>
                    <view class="flexBox-item fb-9 azm-content">

                    </view>
                </view>
                <view class="weui-cell_primary">

                </view>
                <view class="weui-cell__ft">

                </view>
            </view>
            <view class="azm-height-10px"></view>
            <!--堂食餐前&餐后-->
            <block wx:if="{{3 == orderType || 0 == orderType}}">
                <view class="weui-cell azm-cell azm-cell-border_0px  azm-orderInfo-item">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item azm-cell__start">
                            <text>订单编号：</text>
                        </view>
                        <view class="flexBox-item fb-9 azm-cell__c">
                            <text>{{consumerData.consumerNo}}</text>
                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </view>
                <view class="weui-cell azm-cell azm-cell-border_0px  azm-orderInfo-item">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item azm-cell__start">
                            <text>就餐人数：</text>
                        </view>
                        <view class="flexBox-item fb-9 azm-cell__c">
                            <text>{{consumerData.fNumber}}人</text>
                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </view>
                <view class="weui-cell azm-cell azm-cell-border_0px  azm-orderInfo-item">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item azm-cell__start">
                            <text decode>桌&nbsp;&nbsp;台：</text>
                        </view>
                        <view class="flexBox-item fb-9 azm-cell__c">
                            <text>{{consumerData.title}}</text>
                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </view>
            </block>

            <!--自助取餐-->
            <block wx:elif="{{2 == orderType}}">
                <view class="weui-cell weui-cell_access azm-cell azm-cell-border_0px  azm-orderInfo-item">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item">
                            <text>订单编号：</text>
                        </view>
                        <view class="flexBox-item fb-9 azm-cell__c">
                            <text>{{consumerData.consumerNo}}</text>
                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </view>
                <view class="weui-cell azm-cell azm-cell-border_0px  azm-orderInfo-item">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item azm-cell__start">
                            <text>就餐方式：</text>
                        </view>
                        <view class="flexBox-item fb-9 azm-cell__c">
                            <text>自取</text>
                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </view>
            </block>

            <!--外卖-->
            <block wx:elif="{{1 == orderType}}">
                <view class="weui-cell azm-cell azm-cell-border_0px  azm-orderInfo-item">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item azm-cell__start">
                            <text>联系人：</text>
                        </view>
                        <view class="flexBox-item fb-9 azm-cell__c">
                            <text>{{consumerData.consumerName}}</text>
                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </view>
                <view class="weui-cell azm-cell azm-cell-border_0px  azm-orderInfo-item">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item azm-cell__start">
                            <text>联系电话：</text>
                        </view>
                        <view class="flexBox-item fb-9 azm-cell__c">
                            <text>{{consumerData.consumerMobile}}</text>
                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </view>
                <view class="weui-cell azm-cell azm-cell-border_0px  azm-orderInfo-item">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item azm-cell__start">
                            <text>配送地址：</text>
                        </view>
                        <view class="flexBox-item fb-9 azm-cell__c">
                            <text>{{consumerData.consumerAddress}}</text>
                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </view>
            </block>
        </view>

        <!--支付信息-->
        <block wx:if="{{consumerData.payTypeName}}">
            <view class="azm-paymentInfo weui-cells">
                <view class="weui-cell azm-cell azm-paymentInfo-title azm-1px-b">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item">
                            <text>支付信息</text>
                        </view>
                        <view class="flexBox-item fb-9 azm-content">

                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </view>
                <view class="azm-height-10px"></view>
                <!--<view class="weui-cell azm-cell azm-cell-border_0px  azm-paymentInfo-item">-->
                <!--<view class="weui-cell__bd flexBox flexBox-start">-->
                <!--<view class="flexBox-item azm-cell__start">-->
                <!--<text>支付编号：</text>-->
                <!--</view>-->
                <!--<view class="flexBox-item fb-9 azm-cell__c">-->
                <!--<text></text>-->
                <!--</view>-->
                <!--</view>-->
                <!--<view class="weui-cell_primary">-->

                <!--</view>-->
                <!--<view class="weui-cell__ft">-->

                <!--</view>-->
                <!--</view>-->
                <view class="weui-cell azm-cell azm-cell-border_0px  azm-paymentInfo-item">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item azm-cell__start">
                            <text>支付方式：</text>
                        </view>
                        <view class="flexBox-item fb-9 azm-cell__c">
                            <text>{{consumerData.payTypeName}}</text>
                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </view>
                <view class="weui-cell azm-cell azm-cell-border_0px  azm-paymentInfo-item">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item azm-cell__start">
                            <text>支付金额：</text>
                        </view>
                        <view class="flexBox-item fb-9 azm-cell__c">
                            <text>{{filterMoney.RMB(consumerData.consumption)}}</text>
                        </view>
                    </view>
                    <view class="weui-cell_primary">

                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </view>
            </view>
        </block>

        <!--支付方式-->
        <block wx:if="{{3 == status && 3 != orderType}}">
            <radio-group class="azm-payment-method weui-cells weui-cells__border_1px" name="paymentMethod">
                <!--会员支付-->
                <label class="weui-cell azm-cell azm-member" catchtap="bindRadioGroup">
                    <view class="weui-cell__bd">
                        <view class="flexBox flexBox-start">
                            <view class="flexBox-item azm-images-box text-center">
                                <text class="iconfont icon-vip azm-icon"></text>
                            </view>
                            <view class="flexBox-item fb-9 azm-content">
                                <text>会员支付</text>
                            </view>
                        </view>
                        <view class="flexBox flexBox-start azm-member-content">
                            <view class="flexBox-item azm-images-box text-center">

                            </view>
                            <view class="flexBox-item fb-9 azm-content">
                                <block wx:if="{{isMemberCardDto}}">
                                    <text>余额：{{filterMoney.RMB(memberCardDto.availableBalance)}}</text>
                                    <block wx:if="{{filterMoney.Money(memberCardDto.availableBalance) <= 0 || memberCardDto.availableBalance < consumerData.actualPrice}}">
                                        <text decode>&nbsp;&nbsp;(余额不足)</text>
                                    </block>
                                </block>
                                <block wx:else>
                                    <text>未开通会员</text>
                                </block>
                            </view>
                        </view>
                    </view>
                    <view class="weui-cell_primary" value="{{paymentMethod}}">
                        <radio color="#f74b7b" value="member"
                               checked="{{'member'=== paymentMethod}}"
                               disabled="{{!isMemberCardDto}}"/>
                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </label>
                <!--微信支付-->
                <label class="weui-cell azm-cell azm-cell-l-0px azm-weChat">
                    <view class="weui-cell__bd flexBox flexBox-start">
                        <view class="flexBox-item azm-images-box text-center">
                            <text class="iconfont icon-weixinzhifu azm-icon"></text>
                        </view>
                        <view class="flexBox-item fb-9 azm-content">
                            <text>微信支付</text>
                        </view>
                    </view>
                    <view class="weui-cell_primary" value="{{paymentMethod}}">
                        <radio color="#f74b7b" value="weChat"
                               checked="{{'weChat'=== paymentMethod}}"/>
                    </view>
                    <view class="weui-cell__ft">

                    </view>
                </label>
            </radio-group>
        </block>

        <!--底部按钮-->
        <block wx:if="{{3 == orderType}}">
            <view class="azm-footer flexBox">
                <block wx:for="{{foodBtnList}}" wx:key="*this">
                    <view class="flexBox-item fb-{{12/foodBtnList.length}}">
                        <button type="{{item.color}}" data-type="{{item.type}}" catchtap="goPay">
                            {{item.name}}
                        </button>
                    </view>
                </block>
            </view>
        </block>
        <block wx:else>
            <block wx:if="{{3 != status}}">
                <view class="azm-footer flexBox">
                    <block wx:for="{{foodBtnList}}" wx:key="*this">
                        <view class="flexBox-item fb-{{12/foodBtnList.length}}">
                            <button type="{{item.color}}" data-type="{{item.type}}" catchtap="goPay">
                                {{item.name}}
                            </button>
                        </view>
                    </block>
                </view>
            </block>
            <block wx:else>
                <view class="azm-footer-50px"></view>
                <view class="flexBox flexBox-start azm-footer-b azm-1px-t">
                    <view class="flexBox-item fb-8_5">
                        <text>应付：</text>
                        <text class="azm-price">{{filterMoney.RMB(consumerData.actualPrice)}}</text>
                        <text decode class="azm-discount">&nbsp;(已优惠：{{filterMoney.RMB(consumerData.discountPrice)}})
                        </text>
                    </view>
                    <view class="flexBox-item fb-3_5">
                        <button type="primary" class="azm-btn-submit" data-type="0" form-type="submit">去支付</button>
                    </view>
                </view>
            </block>
        </block>
    </form>
</view>
<view class="hide {{moduleMeal}}" catchtap="closeModuleMeal">
    <view class="box">
        <view class="azm-title">
            <text>取餐号</text>
        </view>
        <view class="h2">
            <text>{{consumerData.mealNumber}}</text>
        </view>
        <view class="h6">
            <text>下单时间：</text>
            <text>{{consumerData.createTime}}</text>
        </view>
    </view>
</view>


<import src="../../../template/picker-view/picker-view.wxml"/>
<!--支付picker-view-->
<template is="picker_view" data="{{...pickerViewPaymentData,class:pickerViewPayment,animated:true,isMask}}"></template>


<!--过滤器-->
<wxs src="../../../utils/filter/filter_money.wxs" module="filterMoney"/>
<wxs src="../../../utils/filter/filter_orderType.wxs" module="filterUtil"/>

<!--自定义Toast-->
<import src="../../../template/toast/toast.wxml"/>
<template is="azm_toast" data="{{...azm_toast}}"></template>